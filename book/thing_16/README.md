# Решений может быть несколько

## Кейт Брайтуэйт

Одна модель данных, один Формат сообщений, один транспортный механизм
(и вообще ровно один основной архитектурный компонент, политика,
принцип и т. п.) не может одинаково хорошо обслуживать все аспекты
деятельности коммерческой организации. Похоже, этот факт является бесконечным
источником удивления и огорчения для создателей систем. В то же время
это совершенно естественно: раз уж организация (слово «организация»
здесь подчеркнуто жирной красной линией) достаточно велика, чтобы
волноваться о том, как несколько различных таблиц счетов повлияют на
систему в следующем десятилетии, она наверняка слишком велика и
неоднородна, чтобы можно было обойтись одной таблицей счетов.

В технической области единообразие можно ввести принудительно. И для
нас это весьма удобно. Однако в сфере бизнеса в игру врывается
противоречивый, многогранный, неформальный, хлопотный реальный мир. Что еще
хуже, бизнесу приходится иметь дело даже не с реальным миром, а с
мнениями людей о тех или иных аспектах ситуаций в тех или иных частях этого
мира. Можно, конечно, попытаться отнестись к этой сфере как к
технической и внедрить единое решение в приказном порядке. Однако реальность
неформально определяется как «то, что не исчезает, когда в него
перестаешь верить» (Филип К. Дик), и по мере развития бизнеса проблемы всегда
возвращаются. Так возникают команды, занимающиеся корпоративными
данными и тому подобным, которые тратят все свое (очень дорогое) время
на обуздание экзистенциального ужаса посредством жонглирования DTD[^1]. Время
отклика подобных систем обычно оказывается
неудовлетворительным с точки зрения заказчика.

Почему бы не принять реальность непоследовательного мира и не допустить
существование нескольких несогласованных, перекрывающихся
представлений, служб, решений? Да, технический специалист в каждом из нас,
услышав такое предложение, съеживается от ужаса. Мы сразу представляем себе
кошмарные сценарии: несогласованные обновления, лишние затраты на
сопровождение, клубки зависимостей, которыми приходится управлять... Но
давайте позаимствуем полезный опыт из мира хранения данных. Витрины
данных (data marts) часто денормализуются (в реляционном смысле), в них
произвольно смешиваются импортированные и вычисленные значения,
а представления данных сильно отличаются от представлений данных в
исходных базах данных. И при этом от наличия у витрины данных
нефункциональных свойств никакой катастрофы не происходит. На границе двух
совершенно разных миров - как правило, операций с данными и
аналитической обработки с характерными для них различиями в частоте обновления
и выборки, в пропускной способности, в периодичности изменений
структуры и, возможно, даже в объемах - находится ETL-процесс[^2]. В этом ключ
к задаче: достаточно сильные различия в нефункциональных свойствах
системы формируют границу, через которую удается организовать
практическое управление несогласованными представлениями.

Конечно, не стоит дублировать представления или создавать
альтернативные транспортные механизмы просто ради развлечения. Но вы всегда
должны иметь в виду то, что декомпозиция системы по нефункциональным
параметрам способна открыть благоприятные возможности для создания
разнородных решений в интересах ваших клиентов.

[^1]: DTD (Document Type Definition) - определение типа документа - преамбула
документа, определяющая в языках структурной разметки данных (SGML,
XML) состав и структуру документа.

[^2]: ETL (Extract, Transform, Load - извлечение, преобразование, загрузка) - один из
основных процессов в управлении хранилищами данных (см. http://ru.wikipedia.org/wiki/ETL).