# В центре внимания архитектора - границы и интерфейсы

## Эйнар Ландре

С тех пор как лорд Нельсон уничтожил французский и испанский флоты при
Трафальгаре в 1805 году, принцип «разделяй и властвуй» стал главной
мантрой для решения сложных, комплексных задач. Другой, более знакомый
термин с таким же смыслом - разделение ответственности (separation of
concern). Разделение ответственности ведет к инкапсуляции, а
инкапсуляция способствует выделению границ и интерфейсов.

Если смотреть на задачу глазами архитектора, наиболее сложная ее часть -
поиск естественных мест для формирования границ и определение
подходящих интерфейсов, нужных для создания работоспособной системы. Это
особенно трудно сделать в крупных корпоративных системах, где естественных
границ зачастую очень мало, а различные предметные области тесно
переплетены. В подобных ситуациях отчасти помогают традиционные
принципы вроде «Минимизируй связанность, увеличивай сцепление» (minimize
coupling, maximize cohesion) и «Не разрезай там, где нужен интенсивный
обмен информацией», однако они ничего не говорят о том, как простым
путем донести информацию о задачах и потенциальных решениях до
заинтересованных сторон.

Здесь на помощь приходит концепция ограниченных контекстов и карт
контекстов, описанная Эриком Эвансом в книге «Domain-Driven Design»
(Проектирование на основе предметной области) (Addison-Wesley Professional).
Ограниченным контекстом (bounded context) называется область
уникального определения модели или понятия; на диаграммах она изображается
в виде «облачка» с содержательным именем, определяющим его роль или
задачу в предметной области. Например, система транспортировки может
содержать такие контексты, как «Отгрузка», «Планирование отгрузки»
и «Перемещения в пределах порта». В других предметных областях
возникнут другие имена.

После того как вы выделили ограниченные контексты и нанесли их на
доску, наступает следующий этап - обозначение связей между контекстами.
Эти связи могут отражать организационные, функциональные или
технические зависимости. В результате создается карта контекстов (context
тар) - совокупность контекстов и интерфейсов между ними.

Карта контекстов становится в руках архитектора полезным инструментом,
который помогает сосредоточиться на том, какие компоненты следует
держать вместе, а какие необходимо отделить друг от друга; другими словами,
наглядно реализуется принцип «разделяй и властвуй». Эта техника может
быть с легкостью использована как для документирования и анализа
текущей ситуации, так и для перепроектирования с целью создания системы,
обладающей слабой связанностью, высоким сцеплением и четко
определенными интерфейсами.