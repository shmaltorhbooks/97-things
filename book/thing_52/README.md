# Записывайте свои обоснования

## Тимоти Хай

В СООБЩЕСТВЕ РАЗРАБОТЧИКОВ СУЩЕСТВУЕТ НЕМАЛО РАЗНОГЛАСИЙ ПО ПОВОДУ
ценности документации, особенно в том, что касается архитектуры
программного продукта. Разногласия эти обычно связаны с субъективными
взглядами на ценность «тщательного предварительного проектирования» и теми
сложностями, которые возникают при постоянном обновлении проектной
документации в соответствии с изменениями в базе кода.

Одна из разновидностей документации, которая почти не устаревает, не
требует особых усилий по подготовке и почти всегда окупается, - запись
обоснований, стоящих за теми или иными архитектурными решениями. Как
объясняет Марк Ричарде в этюде «Архитектурные компромиссы», создание
архитектуры программного продукта по сути сводится к поиску разумных
компромиссов между различными характеристиками качества, затратами,
временем и другими факторами. Вам, руководству, разработчикам и другим
заинтересованным в проекте сторонам должно быть абсолютно ясно, почему
одному решению отдано предпочтение перед другим и к каким
компромиссам это привело. (Вы пожертвовали горизонтальной масштабируемостью
ради сокращения затрат на оборудование и лицензии? Проблемы
безопасности настолько серьезны, что оправдывают увеличение времени отклика
ради шифрования данных?)

Формат такой документации зависит от специфики проекта и может
варьироваться от кратких заметок в текстовом документе, вики или блоге до
формальных шаблонов, отражающих все аспекты каждого архитектурного
решения. Независимо от вида и формата этот документ должен отвечать на
следующие основные вопросы: «В чем суть принятого решения?» и «Почему
мы приняли такое решение?». Еще один частый вопрос, ответ на который
следует там отразить: «Какие альтернативные решения рассматривались
и почему они были отвергнуты?» (на самом деле чаще спрашивают:
«Почему не сделали так, как предлагал я?»). Документация должна
предусматривать возможность поиска, чтобы при необходимости можно было легко
найти требуемую информацию.

Такая документация может быть полезна во многих ситуациях:
- Чтобы проинформировать разработчиков о важных архитектурных
  принципах, которые должны соблюдаться в работе.
- Чтобы создать у членов команды единое видение проекта (и даже
  предотвратить бунт), когда разработчики ставят под сомнение логику
  архитектуры (а возможно, покорно принять критику, если решение
  действительно оказалось несостоятельным при ближайшем рассмотрении).
- Чтобы продемонстрировать руководству и заинтересованным сторонам
  те причины, в силу которых программный продукт строится именно так,
  а не иначе (например, почему необходимо какое-нибудь дорогостоящее
  оборудование или программный компонент).
- Чтобы передать проект новому архитектору (сколько раз, получая в
  наследство программный продукт, вы пытались понять, почему
  архитекторы поступили именно ТАК?).

Однако самые важные преимущества этой практики состоят в следующем:
- Она заставляет вас явным образом формулировать свои доводы,
  проверяя их надежность (см. следующий этюд «Сомневайтесь в допущениях -
  особенно в собственных»).
- Она дает отправную точку для переоценки решений в случае изменения
  условий, от которых эти решения зависят.

По затрате усилий на подготовку такая документация сопоставима с
заметками в ходе собраний или тематических обсуждений. Но какой бы формат
вы ни выбрали, эти усилия окупятся.