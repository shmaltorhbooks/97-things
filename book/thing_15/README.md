# Сделать наспех и сбежать - преступление

## Никлас Нильссон

Время близится к вечеру. Команда дружно корпит над новой
функциональностью, запланированной для текущей итерации; кажется, даже воздух в
комнате пульсирует в рабочем ритме. Однако Джон немного спешит: его ждет
свидание. Впрочем, он успевает дописать свою часть кода, компилирует ее,
регистрирует в системе управления исходным кодом - и поспешно уходит.
Несколько минут спустя загорается «красный свет»: сборка приложения
нарушена. У Джона не было времени на автоматизированные тесты, поэтому
он поступил по принципу «сделать наспех и сбежать», из-за чего
застопорилась работа всей команды.

Ситуация изменилась - рабочий ритм сбился. Теперь все знают, что при
обновлении кода из системы контроля версий неработоспособный код
окажется и на их локальных компьютерах, а поскольку для подготовки к
предстоящей демонстрации команде предстоит интегрировать много кода, это
становится серьезным препятствием. По сути дела, Джон поставил команде
подножку - ведь интеграция станет возможна только после того, как кто-то
потратит свое время на отмену его изменений.

Такая ситуация возникает до обидного часто. Сделать наспех и сбежать -
преступление, поскольку в результате нарушается нормальный ход работы.
Это печально распространенный среди разработчиков способ сэкономить
немного времени лично для себя, в итоге потратив впустую чужое время,
что служит проявлением прямого неуважения к другим людям. И все же это
происходит повсеместно. Почему? Обычно потому, что полноценная сборка
системы или проведение тестов занимает слишком много времени.

Здесь в игру вступаете вы - архитектор. Вы тратите массу усилий на
создание гибкой архитектуры, обучаете разработчиков гибким методам разработки 
(таким как разработка через тестирование) и обеспечиваете наличие
сервера для непрерывной интеграции. Кроме того, вам необходимо
сформировать культуру, правила которой запрещают понапрасну расходовать
чужое рабочее время. Для этого помимо прочего нужно позаботиться о
создании качественной инфраструктуры автоматизированного тестирования,
поскольку она способна изменить поведение разработчиков. Если тесты
выполняются быстро, разработчики будут проводить их чаще, что уже само по
себе хорошо, но кроме этого они не будут оставлять своим коллегам
нерабочий код. Если тесты зависят от внешних систем или для их выполнения
необходимы обращения к базе данных, измените их так, чтобы они могли
выполняться локально с заглушками (или хотя бы с базой данных,
хранящейся в памяти), и пусть на сборочном сервере эти тесты выполняются
медленно. Не заставляйте людей дожидаться, пока компьютер выполнит свою
работу, иначе они начинают искать лазейки, которые в результате создают
проблемы для всех остальных.

Не жалейте времени на то, чтобы обеспечить быструю работу с системой.
Это повышает эффективность труда, устраняет поводы для уклонения
сотрудников от работы и в конечном итоге способствует ускорению процесса
разработки. Создавайте суррогаты и симуляторы, устраняйте зависимости,
делите систему на меньшие модули - делайте что угодно, чтобы у ваших
коллег не было даже тени искушения последовать принципу «сделать
наспех и сбежать».

> Никлас Нильссон (Niclas Nilsson) - консультант и преподаватель в
области разработки программного обеспечения, а также писатель, глубоко
увлеченный искусством программирования, ценитель хорошей архитектуры
и дизайна. Является одним из соучредителей factorlO и редактором 
материалов в сообществе архитектуров ПО на сайте InfoQ.