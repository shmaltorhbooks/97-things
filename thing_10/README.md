# Используйте количественные критерии

## Кейт Брайтуэйт

«Быстрый» не может быть требованием. Как и «обладающий хорошим
временем отклика». Или, скажем, «расширяемый». Главная причина
заключается в отсутствии объективных критериев выполнения таких требований.
Но пользователям эти характеристики все равно нужны. Задача
архитектора - позаботиться о том, чтобы система обладала необходимыми
качествами, а также сбалансировать неизбежные противоречия, возникающие
между ними. Без объективных критериев архитектор зависит от капризов
заказчика («Нет, я не могу принять программу - она работает
недостаточно быстро») и разработчиков, одержимых навязчивыми идеями («Нет,
программа еще не готова - она работает недостаточно быстро»).

Обычно мы стараемся записать все подобные пожелания, как и любые
другие требования. Но эта запись очень часто выглядит как набор туманных
эпитетов: «гибкий», «удобный в сопровождении» и так далее. Однако все
критерии такого рода (при достаточном усердии даже «удобство
использования») могут измеряться в числовых величинах, для которых можно
установить пороговые значения. Если этого не сделать, пользователи лишатся
объективных оснований для принятия системы, разработчики потеряют
полезные ориентиры, которыми они могут руководствоваться во время
работы, а представление архитекторов о системе утратит четкость.

Задайте простые вопросы: сколько? в течение какого времени? как часто?
как скоро? увеличивается или уменьшается? с какой скоростью? Если у вас
нет ответов, значит, вы не понимаете, что нужно заказчику. Ответы должны
находиться в экономической модели системы, и если их там нет, то вам
предстоит основательно подумать. Если вы работаете над архитектурой системы,
а заказчик не дал (или не дает) вам эти цифры, спросите себя, почему. А
потом получите их. Когда в следующий раз вам кто-нибудь скажет, что система
должна быть «масштабируемой», спросите его, откуда возьмутся новые
пользователи и почему. Спросите, сколько их будет и когда это произойдет. Не
удовлетворяйтесь ответами «много» и «скоро».

Нечеткие количественные критерии должны задаваться в виде диапазона:
минимум, норма, максимум. Если задать такой интервал невозможно,
значит, непонятно, какое поведение требуется от системы. В ходе работы над
архитектурой можно проверять систему на соответствие этим критериям,
чтобы узнать, находится ли она (все еще) в пределах допустимых
отклонений. Отклонения в степени соответствия некоторым критериям,
происходящие с течением времени, дают полезную обратную связь. Определение этих
интервалов и проверка системы на соответствие - дело трудоемкое и
дорогостоящее. Если никто не беспокоится о _производительности_ системы (ни
о самой характеристике, ни о смысле термина) настолько, чтобы платить за
тестирование производительности, скорее всего, этот показатель вообще не
является существенным. Сосредоточьтесь при создании архитектуры на тех
аспектах системы, которые стоят потраченных усилий.

«Система должна реагировать на входные данные пользователя не более чем
за 1500 мс. При стандартной нагрузке (определяемой как...) среднее время
отклика должно лежать в интервале от 750 до 1250 мс. Время отклика менее
500 мс не воспринимается пользователями, поэтому его падение ниже этого
порога оплачиваться не будет.» _А вот это уже можно назвать требованием._

> Кейту Брайтуэйту (Keith Braithwaite) впервые заплатили за разработку программного обеспечения в 1996 году, хотя до этого он много лет занимался программированием на любительском уровне. После первого проекта - сопровождения компилятора, написанного с использованием lex и уасс, - он занялся сначала моделированием распространения микроволн для планирования сетей GSM, а затем расчетом на C++ сезонных колебаний спроса на воздушные перевозки. Перейдя на должность консультанта (и одновременно на язык Java), он познакомился с CORBA и EJB, а потом и с тем, что тогда называлось «электронной коммерцией». В настоящее время Кейт работает ведущим консультантом в фирме Zuhlke, где возглавляет Центр гибкой разработки.